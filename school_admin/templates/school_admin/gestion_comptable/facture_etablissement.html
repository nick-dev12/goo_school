{% load static %}
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Facture - Goo-School</title>
    <link
      rel="stylesheet"
      href="{% static 'school_admin/css/gestion_comptable/header_comptable.css' %}"
    />
    <link
      rel="stylesheet"
      href="{% static 'school_admin/css/gestion_comptable/facture_etablissement.css' %}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    {% include 'school_admin/gestion_comptable/partials/header_comptable.html'%}

    <div class="invoice-container">
      <!-- Invoice Actions -->
      <div class="invoice-actions">
        <button class="btn btn-outline" onclick="goBack()">
          <i class="fas fa-arrow-left"></i> Retour
        </button>
        <button class="btn btn-primary" onclick="printInvoice()">
          <i class="fas fa-print"></i> Imprimer
        </button>
        <button class="btn btn-success" onclick="downloadPDF()">
          <i class="fas fa-download"></i> Télécharger PDF
        </button>
        <button class="btn btn-secondary" onclick="sendInvoice()">
          <i class="fas fa-paper-plane"></i> Envoyer par Email
        </button>
      </div>

      <!-- Invoice Document -->
      <div class="invoice-document" id="invoiceDocument">
        <!-- Invoice Status -->
        <div class="invoice-status-header">
          <div class="status-badge paid">
            <i class="fas fa-check-circle"></i>
            <span>FACTURE PAYÉE</span>
          </div>
          <div class="payment-date">
            <p>Payée le : 15 Janvier 2024</p>
            <p>Méthode : Virement bancaire</p>
          </div>
        </div>

        <!-- Invoice Header -->
        <div class="invoice-header">
          <div class="company-info">
            <div class="company-logo">
              <i class="fas fa-graduation-cap"></i>
              <span>Goo-School</span>
            </div>
            <div class="company-details">
              <h2>Goo-School</h2>
              <p>Plateforme de Gestion Scolaire</p>
              <p><i class="fas fa-map-marker-alt"></i> Douala, Cameroun</p>
              <p><i class="fas fa-phone"></i> +237 6XX XX XX XX</p>
              <p><i class="fas fa-envelope"></i> contact@goo-school.com</p>
            </div>
          </div>
          <div class="invoice-title">
            <h1>FACTURE</h1>
            <div class="invoice-number">
              <span>N° FAC-2024-001</span>
            </div>
          </div>
        </div>

        <!-- Invoice Details -->
        <div class="invoice-details">
          <div class="bill-to">
            <h3>Facturer à :</h3>
            <div class="client-info">
              <h4>Lycée Moderne de Douala</h4>
              <p><strong>Directeur :</strong> M. Jean-Pierre Mballa</p>
              <p><strong>Adresse :</strong> Quartier Akwa, Douala, Cameroun</p>
              <p><strong>Téléphone :</strong> +237 6XX XX XX XX</p>
              <p><strong>Email :</strong> contact@lyceemoderne-douala.cm</p>
              <p><strong>Type :</strong> Établissement Privé</p>
            </div>
          </div>
          <div class="invoice-info">
            <h3>Informations de Facturation :</h3>
            <div class="info-grid">
              <div class="info-item">
                <label>Date d'émission :</label>
                <span>15 Janvier 2024</span>
              </div>
              <div class="info-item">
                <label>Date d'échéance :</label>
                <span>15 Février 2024</span>
              </div>
              <div class="info-item">
                <label>Période :</label>
                <span>Janvier 2024</span>
              </div>
              <div class="info-item">
                <label>Méthode de paiement :</label>
                <span>Virement bancaire</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Invoice Items -->
        <div class="invoice-items">
          <h3>Détail des Services :</h3>
          <table class="items-table">
            <thead>
              <tr>
                <th>Description</th>
                <th>Quantité</th>
                <th>Prix Unitaire</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="item-description">
                    <strong>Service de Gestion Scolaire</strong>
                    <p>Abonnement mensuel - 450 élèves inscrits</p>
                    <p>
                      Inclut : Gestion des élèves, bulletins, communication,
                      etc.
                    </p>
                  </div>
                </td>
                <td>450</td>
                <td>3,000 FCFA</td>
                <td>1,350,000 FCFA</td>
              </tr>
              <tr>
                <td>
                  <div class="item-description">
                    <strong>Support Technique</strong>
                    <p>Assistance technique et formation du personnel</p>
                  </div>
                </td>
                <td>1</td>
                <td>50,000 FCFA</td>
                <td>50,000 FCFA</td>
              </tr>
              <tr>
                <td>
                  <div class="item-description">
                    <strong>Maintenance et Mises à jour</strong>
                    <p>Maintenance du système et mises à jour de sécurité</p>
                  </div>
                </td>
                <td>1</td>
                <td>25,000 FCFA</td>
                <td>25,000 FCFA</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Invoice Totals -->
        <div class="invoice-totals">
          <div class="totals-table">
            <div class="total-row">
              <span>Sous-total :</span>
              <span>1,425,000 FCFA</span>
            </div>
            <div class="total-row">
              <span>Remise (5%) :</span>
              <span class="discount">-71,250 FCFA</span>
            </div>
            <div class="total-row">
              <span>Taxe (19%) :</span>
              <span>257,175 FCFA</span>
            </div>
            <div class="total-row total-final">
              <span><strong>Total TTC :</strong></span>
              <span><strong>1,610,925 FCFA</strong></span>
            </div>
          </div>
        </div>

        <!-- Payment Information -->
        <div class="payment-info">
          <h3>Informations de Paiement :</h3>
          <div class="payment-details">
            <div class="bank-info">
              <h4>Virement Bancaire :</h4>
              <p><strong>Banque :</strong> Afriland First Bank</p>
              <p><strong>Nom du compte :</strong> Goo-School SARL</p>
              <p><strong>Numéro de compte :</strong> 1234567890123456</p>
              <p><strong>Code BIC :</strong> AFRIXCMCX</p>
            </div>
            <div class="payment-terms">
              <h4>Conditions de Paiement :</h4>
              <p>• Paiement à 30 jours net</p>
              <p>
                • En cas de retard, des intérêts de 1.5% par mois seront
                appliqués
              </p>
              <p>• Merci de mentionner le numéro de facture lors du virement</p>
            </div>
          </div>
        </div>

        <!-- Invoice Footer -->
        <div class="invoice-footer">
          <div class="footer-left">
            <p><strong>Merci pour votre confiance !</strong></p>
            <p>
              Pour toute question concernant cette facture, contactez-nous :
            </p>
            <p>Email : facturation@goo-school.com | Tél : +237 6XX XX XX XX</p>
          </div>
          <div class="footer-right">
            <div class="signature">
              <p>Signature :</p>
              <div class="signature-line"></div>
              <p>Directeur Financier</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="{% static 'school_admin/js/gestion_comptable/facture_etablissement.js' %}"></script>
  </body>
</html>
